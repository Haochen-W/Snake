{"ast":null,"code":"var _jsxFileName = \"/Users/JasonWu/snake/src/snake.js\";\nimport React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport _ from 'lodash';\n\nclass Snake extends React.Component {\n  selfCollide() {\n    const snake = this.props.snake;\n    return snake.body.some(cord => _.isEqual(cord, snake.head)) || _.isEqual(snake.head, snake.tail);\n  }\n\n  run() {\n    this.props.snake.running = true;\n    var running = setInterval(() => {\n      const snake = this.props.snake;\n\n      switch (snake.direction) {\n        case 'up':\n          snake.head.y -= 1;\n          break;\n\n        case 'w':\n          snake.head.y -= 1;\n          break;\n\n        case 'down':\n          snake.head.y += 1;\n          break;\n\n        case 's':\n          snake.head.y += 1;\n          break;\n\n        case 'left':\n          snake.head.x -= 1;\n          break;\n\n        case 'a':\n          snake.head.x -= 1;\n          break;\n\n        case 'right':\n          snake.head.x += 1;\n          break;\n\n        case 'd':\n          snake.head.x += 1;\n          break;\n\n        default:\n          break;\n      }\n\n      if (this.props.snake.running === false) {\n        clearInterval(running);\n      }\n\n      if (snake.head.x > 29 || snake.head.y > 29 || snake.head.x < 0 || snake.head.y < 0 || this.selfCollide()) {\n        snake.running = false;\n        snake.alive = false;\n        clearInterval(running);\n      }\n\n      var newCell = {\n        x: snake.head.x,\n        y: snake.head.y\n      };\n      snake.body.push(newCell);\n      snake.tail.x = snake.body[0].x;\n      snake.tail.y = snake.body[0].y;\n      snake.body.splice(0, 1);\n      this.props.changeDirection(snake.direction);\n    }, 200 / this.props.snake.speed);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"Snake\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(KeyboardEventHandler, {\n      handleKeys: ['left', 'up', 'right', 'down', 'w', 's', 'a', 'd'],\n      onKeyEvent: (key, e) => {\n        if ((key === 'up' || key === 'w') && (this.props.snake.direction === 'down' || this.props.snake.direction === 'up')) {\n          return;\n        }\n\n        if ((key === 'down' || key === 's') && (this.props.snake.direction === 'down' || this.props.snake.direction === 'up')) {\n          return;\n        }\n\n        if ((key === 'left' || key === 'a') && (this.props.snake.direction === 'left' || this.props.snake.direction === 'right')) {\n          return;\n        }\n\n        if ((key === 'right' || key === 'd') && (this.props.snake.direction === 'left' || this.props.snake.direction === 'right')) {\n          return;\n        }\n\n        if (this.props.snake.alive === false && this.props.snake.running === false) {\n          this.props.endGame();\n        }\n\n        if (!this.props.snake.running && this.props.snake.alive) {\n          this.run();\n        }\n\n        this.props.changeDirection(key);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Snake;","map":{"version":3,"sources":["/Users/JasonWu/snake/src/snake.js"],"names":["React","KeyboardEventHandler","_","Snake","Component","selfCollide","snake","props","body","some","cord","isEqual","head","tail","run","running","setInterval","direction","y","x","clearInterval","alive","newCell","push","splice","changeDirection","speed","render","key","e","endGame"],"mappings":"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","sourcesContent":["import React from 'react';\nimport KeyboardEventHandler from 'react-keyboard-event-handler'\nimport _ from 'lodash'\n\nclass Snake extends React.Component{\n    selfCollide() {\n      const snake = this.props.snake;\n      return snake.body.some(cord => _.isEqual(cord, snake.head)) || _.isEqual(snake.head, snake.tail)\n    }\n    run() {\n        this.props.snake.running = true;\n        var running = setInterval(() => {\n            const snake = this.props.snake;\n            switch(snake.direction){\n                case 'up':\n                  snake.head.y -= 1;\n                  break;\n                case 'w':\n                  snake.head.y -= 1;\n                  break;\n                case 'down':\n                  snake.head.y += 1;\n                  break;\n                case 's':\n                  snake.head.y += 1;\n                  break;\n                case 'left':\n                  snake.head.x -= 1;\n                  break;\n                case 'a':\n                  snake.head.x -= 1;\n                  break;\n                case 'right':\n                  snake.head.x += 1;\n                  break;\n                case 'd':\n                  snake.head.x += 1;\n                  break;\n                default:\n                break;\n            }\n            if(this.props.snake.running === false){\n                clearInterval(running)\n            }\n            if (snake.head.x > 29 || snake.head.y > 29 || snake.head.x < 0 || snake.head.y < 0 || this.selfCollide()) {\n              snake.running = false\n              snake.alive = false\n              clearInterval(running);\n            }\n            var newCell = {\n              x: snake.head.x,\n              y: snake.head.y\n            }\n            snake.body.push(newCell)\n            snake.tail.x = snake.body[0].x;\n            snake.tail.y = snake.body[0].y;\n            snake.body.splice(0,1);\n            this.props.changeDirection(snake.direction);\n        }, 200 / this.props.snake.speed);\n      }\n\n    render(){\n       return(\n           <div id=\"Snake\">\n            <KeyboardEventHandler\n                  handleKeys={['left', 'up', 'right', 'down', 'w', 's', 'a', 'd']}\n                  onKeyEvent={(key, e) => {\n                    if ((key === 'up' || key === 'w') && (this.props.snake.direction === 'down' || this.props.snake.direction === 'up')) {\n                      return\n                    }\n                    if ((key === 'down' || key === 's') && (this.props.snake.direction === 'down' || this.props.snake.direction === 'up')) {\n                      return\n                    }\n                    if ((key === 'left' || key === 'a') && (this.props.snake.direction === 'left' || this.props.snake.direction === 'right')) {\n                      return\n                    }\n                    if ((key === 'right' || key === 'd') && (this.props.snake.direction === 'left' || this.props.snake.direction === 'right')) {\n                      return\n                    }\n                    if (this.props.snake.alive === false && this.props.snake.running === false){\n                        this.props.endGame();\n                    }\n                    if (!this.props.snake.running && this.props.snake.alive ){\n                        this.run();\n                    }\n                    this.props.changeDirection(key);\n                  }}/>\n           </div>\n       );\n   }\n}\n\nexport default Snake;"]},"metadata":{},"sourceType":"module"}